```
fork()
    clone()
        do_fork()
            copy_process()
                dup_task_struct()：新内核栈、thread_info、task_struct，与当前进程值相同，此时父子进程描述符相同
                检查新建进城后当前用户进程数目没有超过给它分配的资源限制
                描述符许多成员被清0或设为初始值，主要是统计信息。描述符中大多数据仍为修改
                子进程状态设为TAK_UNINTERTUPTIBLE，保证不会投入运行
                copy_flags()更新task_struct的flags成员
                alloc_pid()：为新进程分配一个有效的PID
                根据传递给clone的参数标志，拷贝或共享打开文件、文件系统信息、信号处理函数、进程地址空间和命名空间等。
                做扫尾工作，返回一个指向子进程的指针
```